@mixin shd($shd){
	$btvals:(n:none);
	@each $key,$val in $shd{
		$clr:false;
		$blur:false;
		@if type-of($val) == 'list' and length($val) == 2{
			$clr:nth($val,2);
			$val:nth($val,1);
		}
		@else{
			$clr:shd;
		}
		@if type-of($val) == 'number'{
			$inset:($val < 0);
			@if $key == 'b' or $key == 'bt' or $key == 'bb' or $key == 'bl' or $key == 'br'{
				$blur:abs($val) * 2 + 1;
			}
			@else{$blur:abs($val);}
			@if $inset{
				@if $key == 'bt' or $key == 'bb' or $key == 'bl' or $key == 'br'{
					$spr:$blur * -1;
					@if $key == 'bt'{$tx:0;$ty:$blur;}
					@if $key == 'bb'{$tx:0;$ty:$blur * -1;}
					@if $key == 'bl'{$tx:$blur;$ty:0;}
					@if $key == 'br'{$tx:$blur * -1;$ty:0;}
					@if $key == 'bc'{$tx:0;$ty:0;}
					$val:#{$tx}px #{$ty}px #{$blur}px #{$spr}px #{clr($clr)} inset;
				}
				@elseif $key == 'bc' or $key == 'tc'{
					$val:0 0 #{$blur}px #{clr($clr)} inset;
				}
				@else{$val:0 #{abs($val)}px #{$blur}px #{clr($clr)} inset;}
			}
			@else{
				@if $key == 'bt' or $key == 'bb' or $key == 'bl' or $key == 'br'{
					$spr:$blur * -1;
					@if $key == 'bt'{$tx:0;$ty:$blur * -1;}
					@if $key == 'bb'{$tx:0;$ty:$blur;}
					@if $key == 'bl'{$tx:$blur * -1;$ty:0;}
					@if $key == 'br'{$tx:$blur;$ty:0;}
					@if $key == 'bc'{$tx:0;$ty:0;}
					$val:#{$tx}px #{$ty}px #{$blur}px #{$spr}px #{clr($clr)};
				}
				@elseif $key == 'bc' or $key == 'tc'{
					$val:0 0 #{$blur}px #{clr($clr)};
				}
				@elseif $key == 'ts'{
					$c:clr($clr);
					$b:$val / 2;
					$l0:0;
					$l1:$val * 3 /5;
					$l2:$val * 4 /5;
					$l3:$val;
					$val:(
						(#{$l0}px #{$l3}px #{$b}px #{$c}),
						(#{$l1}px #{$l2}px #{$b}px #{$c}),
						(#{$l2}px #{$l1}px #{$b}px #{$c}),
						(#{$l3}px #{$l0}px #{$b}px #{$c}),
						(#{$l2}px -#{$l1}px #{$b}px #{$c}),
						(#{$l1}px -#{$l2}px #{$b}px #{$c}),
						(#{$l0}px -#{$l3}px #{$b}px #{$c}),
						(-#{$l1}px -#{$l2}px #{$b}px #{$c}),
						(-#{$l2}px -#{$l1}px #{$b}px #{$c}),
						(-#{$l3}px #{$l0}px #{$b}px #{$c}),
						(-#{$l2}px #{$l1}px #{$b}px #{$c}),
						(-#{$l1}px #{$l2}px #{$b}px #{$c})
					);
				}
				@else{$val:0 #{abs($val)}px #{$blur}px #{clr($clr)};}
			}
		}
		@if map-has-key($btvals,$val){$val:map-get($btvals,$val);}
		@if $key == 'b' or $key == 'bt' or $key == 'bb' or $key == 'bl' or $key == 'br' or $key == 'bc'
		{box-shadow:$val;}
		@if $key == 't' or $key == 'tc' or $key == 'ts'{text-shadow:$val;}
	}
}


@mixin bevel($opacity:.2,$depth:1px,$blur:2px){
	box-shadow:
		inset $depth $depth $blur $depth rgba(255,255,255,$opacity),
		inset $depth*-1 $depth*-1 $blur $depth rgba(0,0,0,$opacity)
}